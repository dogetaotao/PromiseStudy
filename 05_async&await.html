<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  /**
   * 1.async函数
   *  该函数返回值为promise对象
   *  promise对象的结果由async函数执行的返回值确定
   *
   * 2.await表达式
   *  await右侧表达式一般为promise对象，但也可能是其他的值
   *  如果表达式为promise对象，await返回的是promise成功的值
   *  如果表达式是其他值，直接作为await的返回值
   *
   * 3.注意：
   *  await必须写在async函数中，但async函数中可以没有await
   *  如果await的promise1失败了，就会抛出异常，需要通过try...catch来捕获处理
   *
   */
  
  //该函数返回值为promise对象
  async function fn1() {
    // return 1
    // throw 2
    return Promise.reject(3)
  }
  const result = fn1()
  result.then(
    value => {
      console.log(value)
    },
    reason => {
      console.log(reason)
    }
  )

  function fn2(){
    return Promise.resolve(2)
  }

  function fn3(){
    return Promise.reject(3)
  }
  async function fn4(){
    const value = await fn2() //得到的是promise成功的值
  }
  
  async function fn5(){
    try {
      const reason = await fn3()
    } catch (error){
      console.log(error)
    }
  }
</script>
</body>
</html>